{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tusha\\\\Desktop\\\\recordBook\\\\record-book\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport './App.css';\nimport Starter from './Starter.jsx';\nimport React, { useState } from 'react';\nimport Login from './Login';\nimport HomePage from './HomePage';\nimport HomePage2 from './HomePage2';\nimport { Routes, Route, BrowserRouter } from 'react-router-dom';\nimport Attendance from './Attendance';\nimport axios from 'axios';\nimport Modal from './Modal';\n// import {Routes,Route} from ''\n// const click=false;\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [state, setState] = useState({\n    user: null,\n    apiSent: false,\n    showMessage: false,\n    message: \"\",\n    messageType: \"\"\n  });\n  function display() {\n    if (state.message) {\n      setTimeout(() => setState(prev => {\n        return {\n          ...prev,\n          message: false\n        };\n      }), 3000);\n      return /*#__PURE__*/_jsxDEV(Modal, {\n        show: state.showMessage,\n        type: state.messageType,\n        message: state.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 14\n      }, this);\n    }\n  }\n  function setUser(u) {\n    var user;\n    axios.get('http://localhost:3001/').then(response => {\n      // console.log(response.data)\n      var found = response.data.some(i => {\n        if (i.username === u.id) {\n          console.log(\"Id matched\");\n          if (i.pass === u.pass) {\n            // user=i;\n            console.log(\"pswd matched\");\n            console.log(i);\n            setState(prev => {\n              return {\n                ...prev,\n                // userMatched:true,\n                user: i\n              };\n            });\n            return true;\n          } else {\n            console.log(\"But pswd doesn't match\");\n            return false;\n          }\n        }\n      });\n      if (!found) {\n        console.log(\"User does not exist\");\n      }\n      return found;\n    }).catch(err => {\n      console.log(err);\n      setState(prev => {\n        console.log(err.message);\n        return {\n          ...prev,\n          message: err.message + \" occurred\",\n          showMessage: true,\n          messageType: \"error\"\n        };\n      });\n    });\n\n    // console.log(u);\n    // setState({user:u});\n    // console.log(state.user);\n    // window.location='/HomePage';\n  }\n\n  if (state.user !== null && !state.apiSent) {\n    const url = \"http://localhost:3001/user\";\n    console.log(\"sending data\");\n    console.log(state.user);\n    axios.post(url, state.user).then(response => {\n      // console.log(response);\n      if (response.data === 'OK') setState(prev => {\n        return {\n          ...prev,\n          apiSent: true\n        };\n      });\n      console.log(response);\n    }).catch(err => {\n      console.log(err);\n      setState(prev => {\n        console.log(err.message);\n        return {\n          ...prev,\n          message: err.message + \" occurred\",\n          showMessage: true,\n          messageType: \"error\"\n        };\n      });\n    });\n    // console.log(state.user);\n  }\n\n  const chunk = {\n    name: \"Sonali\"\n  };\n  if (state.apiSent === true) {\n    if (state.user.username === \"teacher\") {\n      window.location = '/HomePage2';\n    } else window.location = '/HomePage';\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [display(), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/HomePage\",\n        element: /*#__PURE__*/_jsxDEV(HomePage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"Starter\",\n        element: /*#__PURE__*/_jsxDEV(Starter, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"HomePage2\",\n        element: /*#__PURE__*/_jsxDEV(HomePage2, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(Login, {\n          setUser: setUser,\n          user: state.user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"w+zuXXp5h1omZhLV3e44GPoRjC8=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Starter","React","useState","Login","HomePage","HomePage2","Routes","Route","BrowserRouter","Attendance","axios","Modal","App","state","setState","user","apiSent","showMessage","message","messageType","display","setTimeout","prev","setUser","u","get","then","response","found","data","some","i","username","id","console","log","pass","catch","err","url","post","chunk","name","window","location"],"sources":["C:/Users/tusha/Desktop/recordBook/record-book/src/App.js"],"sourcesContent":["import './App.css';\r\nimport Starter from './Starter.jsx';\r\nimport React, { useState } from 'react';\r\nimport Login from './Login';\r\nimport HomePage from './HomePage';\r\nimport HomePage2 from './HomePage2';\r\nimport { Routes,Route,BrowserRouter } from 'react-router-dom';\r\nimport Attendance from './Attendance';\r\nimport axios from 'axios';\r\nimport Modal from './Modal';\r\n// import {Routes,Route} from ''\r\n// const click=false;\r\nfunction App(){\r\n    const [state, setState]=useState({\r\n      user:null,\r\n      apiSent:false,\r\n      showMessage:false,\r\n        message:\"\",\r\n        messageType:\"\"\r\n    });\r\n    function display(){\r\n      if(state.message){\r\n      setTimeout(\r\n          ()=>setState(prev=>{\r\n              return(\r\n                  {\r\n                      ...prev,\r\n                      message:false\r\n                  }\r\n              )\r\n          }),3000\r\n      )\r\n      return <Modal show={state.showMessage} type={state.messageType} message={state.message}/>\r\n      }\r\n  }\r\n    function setUser(u){\r\n      var user;\r\n        axios.get('http://localhost:3001/')\r\n        .then(response=>{\r\n            // console.log(response.data)\r\n           var found= response.data.some(i=>{\r\n                if(i.username===u.id){\r\n                    console.log(\"Id matched\");\r\n                    if(i.pass===u.pass){\r\n                        // user=i;\r\n                        console.log(\"pswd matched\");\r\n                        console.log(i);\r\n                        setState(prev=>{\r\n                            return({\r\n                                ...prev,\r\n                                // userMatched:true,\r\n                                user:i\r\n                            });\r\n                        })\r\n                        return true;\r\n                    }else{\r\n                        console.log(\"But pswd doesn't match\");\r\n                        return false;\r\n                    }    \r\n                }\r\n            })\r\n            if(!found){\r\n              console.log(\"User does not exist\");\r\n            }\r\n            return found;\r\n            \r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n            setState(prev=>{\r\n              console.log(err.message)\r\n              return({\r\n                  ...prev,\r\n                  message:err.message+\" occurred\",\r\n                  showMessage:true,\r\n                  messageType:\"error\"\r\n              });\r\n          });\r\n        })\r\n        \r\n      // console.log(u);\r\n      // setState({user:u});\r\n      // console.log(state.user);\r\n      // window.location='/HomePage';\r\n    }\r\n    \r\n    \r\n    if(state.user!==null&&!state.apiSent){\r\n      const url=\"http://localhost:3001/user\"\r\n        console.log(\"sending data\");\r\n          console.log(state.user);\r\n            axios.post(url,state.user)\r\n            .then(response=>{\r\n              // console.log(response);\r\n              if(response.data==='OK')\r\n                setState(prev=>{\r\n                  return({\r\n                    ...prev,\r\n                    apiSent:true\r\n                  });\r\n                })\r\n                console.log(response)\r\n            })\r\n            .catch(err=>{\r\n                console.log(err)\r\n                setState(prev=>{\r\n                  console.log(err.message)\r\n                  return({\r\n                      ...prev,\r\n                      message:err.message+\" occurred\",\r\n                      showMessage:true,\r\n                      messageType:\"error\"\r\n                  });\r\n              });\r\n            })\r\n      // console.log(state.user);\r\n      \r\n      \r\n    }\r\n    const chunk={\r\n      name:\"Sonali\"\r\n\r\n    }\r\n    if(state.apiSent===true){\r\n      if(state.user.username===\"teacher\"){\r\n        window.location='/HomePage2'\r\n      }else\r\n      window.location='/HomePage'\r\n    }\r\n    return(\r\n      <>\r\n      {display()}\r\n      {/* {console.log(state.user)} */}\r\n      <Routes>\r\n        <Route path='/HomePage' element={<HomePage/>}/>\r\n        <Route path='Starter' element={<Starter/>}/>\r\n        <Route path='HomePage2' element={<HomePage2/>}/>\r\n        <Route path='/' element={<Login setUser={setUser} user={state.user}/>}/>\r\n      </Routes>\r\n      </>\r\n    );\r\n}\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}